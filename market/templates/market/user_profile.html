{% extends "market/base.html" %}
{% block content %}
  <div style="text-align:center;margin-bottom:30px;">
    <h1 style="color:white;margin:0;">👤 {{ profile_user.first_name|default:profile_user.username }}</h1>
    <p style="color:rgba(255,255,255,0.8);margin:8px 0 0 0;">Kullanıcı Profili</p>
  </div>
  
  <div class="card">
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-bottom:30px;">
      <div style="text-align:center;padding:20px;background:#f7fafc;border-radius:15px;">
        <div style="font-size:24px;font-weight:700;color:#667eea;margin-bottom:8px;">{{ total_items }}</div>
        <div style="color:#4a5568;font-weight:600;">Aktif Ürün</div>
      </div>
      
      <div style="text-align:center;padding:20px;background:#f0fff4;border-radius:15px;">
        <div style="font-size:24px;font-weight:700;color:#38a169;margin-bottom:8px;">{{ completed_trades }}</div>
        <div style="color:#2f855a;font-weight:600;">Başarılı Takas</div>
      </div>
      
      <div style="text-align:center;padding:20px;background:#fef5e7;border-radius:15px;">
        <div style="font-size:24px;font-weight:700;color:#d69e2e;margin-bottom:8px;">⭐</div>
        <div style="color:#b7791f;font-weight:600;">Güvenilir</div>
      </div>
    </div>
    
    <div style="text-align:center;">
      <h2 style="color:#2d3748;margin:0;">{{ profile_user.first_name|default:profile_user.username }}'in Ürünleri</h2>
    </div>
  </div>
  
  <div class="grid">
    {% for item in user_items %}
      <div class="card item-card">
        {% if item.image %}
          <img src="{{ item.image.url }}" alt="{{ item.title }}" style="width:100%;height:200px;object-fit:cover;" />
        {% else %}
          <div style="width:100%;height:200px;background:linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);border-radius:10px;display:flex;align-items:center;justify-content:center;color:#a0aec0;font-size:48px;">
            {% if item.category == 'evening_dress' %}👗
            {% elif item.category == 'game_console' %}🎮
            {% elif item.category == 'game_disc' %}💿
            {% elif item.category == 'toy' %}🧸
            {% elif item.category == 'book' %}📚
            {% else %}🎁
            {% endif %}
          </div>
        {% endif %}
        <h3>{{ item.title }}</h3>
        <p>{{ item.description|truncatechars:100 }}</p>
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <span style="color:#667eea;font-weight:600;font-size:12px;">{{ item.get_category_display }}</span>
          <a class="btn" href="{% url 'market:item_detail' item.id %}">İncele</a>
        </div>
      </div>
    {% empty %}
      <div class="card" style="text-align:center;padding:60px;grid-column:1/-1;">
        <p style="font-size:24px;color:#a0aec0;margin:0;">
          {{ profile_user.first_name|default:profile_user.username }} henüz ürün paylaşmadı 😊
        </p>
      </div>
    {% endfor %}
  </div>
  
  <div style="text-align:center;margin-top:20px;">
    <a href="{% url 'market:index' %}" class="btn outline">← Ana Sayfaya Dön</a>
  </div>
{% endblock %}
